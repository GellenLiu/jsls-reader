{"version":3,"sources":["webpack:///src/pages/reading.vue","webpack:///./src/pages/reading.vue?1a3b","webpack:///./src/pages/reading.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["reading","data","bookname","active","chapterName","fontSize","font_color","backgroud","styles","style1","color","font-size","style2","style3","style4","style5","style6","style7","style8","style9","style10","style11","style12","style13","style14","style15","created","this","computed","newdata","methods","tohome","$router","goBack","onClickLeft","push","onClickRight","downsize","document","getElementById","style","creasesize","goodnight","add","sessionStorage","getItem","localStorage","console","log","getcontentDB","read","db","that","objectStore","transaction","request","get","toString","onerror","event","onsuccess","result","content","stringify_default","replace","indexedDB","open","showChapterList","display","setFont_size","pages_reading","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","id","title","left-text","left-arrow","on","click-left","click-right","name","size","_v","click","_s","model","value","callback","$$v","expression","icon","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","core","$JSON","JSON","stringify","it","apply","arguments"],"mappings":"gIA+BAA,GACAC,KADA,WAEA,OACAA,KAAA,GACAC,SAAA,GACAC,OAAA,EACAC,YAAA,GACAC,SAAA,GACAC,WAAA,GACAC,UAAA,GACAC,QACAC,QAAAC,MAAA,OAAAC,YAAA,QACAC,QAAAF,MAAA,OAAAC,YAAA,QACAE,QAAAH,MAAA,OAAAC,YAAA,QACAG,QAAAJ,MAAA,OAAAC,YAAA,QACAI,QAAAL,MAAA,OAAAC,YAAA,QACAK,QAAAN,MAAA,OAAAC,YAAA,QACAM,QAAAP,MAAA,OAAAC,YAAA,QACAO,QAAAR,MAAA,UAAAC,YAAA,QACAQ,QAAAT,MAAA,UAAAC,YAAA,QACAS,SAAAV,MAAA,UAAAC,YAAA,QACAU,SAAAX,MAAA,UAAAC,YAAA,QACAW,SAAAZ,MAAA,UAAAC,YAAA,QACAY,SAAAb,MAAA,UAAAC,YAAA,QACAa,SAAAd,MAAA,UAAAC,YAAA,QACAc,SAAAf,MAAA,UAAAC,YAAA,WAKAe,QA9BA,WA+BAC,KAAA3B,WAEA4B,UACAC,QAAA,WACA,OAAAF,KAAA1B,KAAA,IAGA6B,SACAC,OADA,WAEAJ,KAAAK,QAAAC,UAEAC,YAJA,WAKAP,KAAAK,QAAAG,KAAA,UAEAC,aAPA,aAUAC,SAVA,WAWAC,SAAAC,eAAA,WAAAC,MAAAnC,SAAA,QAEAoC,WAbA,WAcAH,SAAAC,eAAA,WAAAC,MAAAnC,SAAA,QAEAqC,UAhBA,WAiBAf,KAAArB,WAAA,UACAqB,KAAApB,UAAA,QAEAoC,IApBA,WAqBAhB,KAAA1B,QAEAD,QAvBA,WAyBA,IAAAE,EAAA0C,eAAAC,QAAA,WACAzC,EAAA0C,aAAAD,QAAA3C,EAAA,kBACAyB,KAAAvB,cACA2C,QAAAC,IAAA,UAAA5C,GAEAuB,KAAAsB,aAAA7C,IAGA8C,KAjCA,SAiCAC,EAAA/C,GACA,IAAAgD,EAAAzB,KAEA0B,EADAF,EAAAG,aAAA,YACAD,YAAA,WAEAN,QAAAC,IAAA,QACA,IAAAO,EAAAF,EAAAG,IAAApD,EAAAqD,YACAF,EAAAG,QAAA,SAAAC,GACAZ,QAAAC,IAAA,SAGAO,EAAAK,UAAA,SAAAD,GACA,GAAAJ,EAAAM,OAAA,CACAd,QAAAC,IAAA,YACA,IAAAc,EAAAP,EAAAM,OAEAT,EAAAnD,KAAA8D,IAAAD,GAAAL,WAAAO,QAAA,6DAEAjB,QAAAC,IAAAI,EAAAnD,WAIA8C,QAAAC,IAAA,aAKAC,aA5DA,SA4DA7C,GACA,IAAA+C,EAEAC,EAAAzB,KACA4B,EAAAU,UAAAC,KAAA,iBAEAX,EAAAG,QAAA,SAAAC,GACAZ,QAAAC,IAAA,UAEAO,EAAAK,UAAA,SAAAD,GACAZ,QAAAC,IAAA,WACAG,EAAAI,EAAAM,OACAT,EAAAF,KAAAC,EAAA/C,KAGA+D,gBA3EA,WA4EA,SAAA7B,SAAAC,eAAA,YAAAC,MAAA4B,SACA9B,SAAAC,eAAA,YAAAC,MAAA4B,QAAA,GACA9B,SAAAC,eAAA,YAAAC,MAAA4B,QAAA,GACArB,QAAAC,IAAA,UAEAV,SAAAC,eAAA,YAAAC,MAAA4B,QAAA,OACA9B,SAAAC,eAAA,YAAAC,MAAA4B,QAAA,OACA9B,SAAAC,eAAA,MAAAC,MAAA4B,QAAA,OACArB,QAAAC,IAAA,UAGAqB,aAvFA,WAwFAtB,QAAAC,IAAA,gBACA,SAAAV,SAAAC,eAAA,MAAAC,MAAA4B,QACA9B,SAAAC,eAAA,MAAAC,MAAA4B,QAAA,GAEA9B,SAAAC,eAAA,MAAAC,MAAA4B,QAAA,UC9JAE,GADiBC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,gBAA0BF,EAAA,OAAYG,aAAaV,QAAA,QAAiBW,OAAQC,GAAA,cAAiBL,EAAA,eAAoBI,OAAOE,MAAAT,EAAApE,YAAA8E,YAAA,KAAAC,aAAA,IAAyDC,IAAKC,aAAAb,EAAAtC,YAAAoD,cAAAd,EAAApC,iBAA6DuC,EAAA,YAAkBI,OAAOQ,KAAA,SAAAC,KAAA,UAA6B,OAAAhB,EAAAiB,GAAA,KAAAd,EAAA,OAAiCE,YAAA,eAAArC,MAAAgC,EAAAhE,OAAA,OAAAuE,OAA4DC,GAAA,WAAeI,IAAKM,MAAAlB,EAAAL,mBAA6BQ,EAAA,KAAAH,EAAAiB,GAAAjB,EAAAmB,GAAAnB,EAAAvE,WAAAuE,EAAAiB,GAAA,KAAAd,EAAA,OAA6DG,aAAaV,QAAA,QAAiBW,OAAQC,GAAA,QAAWL,EAAA,UAAeS,IAAIM,MAAAlB,EAAAnC,YAAsBmC,EAAAiB,GAAA,SAAAjB,EAAAiB,GAAA,KAAAd,EAAA,UAA2CS,IAAIM,MAAAlB,EAAA/B,cAAwB+B,EAAAiB,GAAA,WAAAjB,EAAAiB,GAAA,KAAAd,EAAA,OAA0CG,aAAaV,QAAA,QAAiBW,OAAQC,GAAA,cAAiBL,EAAA,cAAmBiB,OAAOC,MAAArB,EAAA,OAAAsB,SAAA,SAAAC,GAA4CvB,EAAArE,OAAA4F,GAAeC,WAAA,YAAsBrB,EAAA,mBAAwBI,OAAOkB,KAAA,SAAAC,GAAA,uBAA0C1B,EAAAiB,GAAA,QAAAjB,EAAAiB,GAAA,KAAAd,EAAA,mBAAmDI,OAAOkB,KAAA,YAAiBzB,EAAAiB,GAAA,QAAAjB,EAAAiB,GAAA,KAAAd,EAAA,mBAAmDI,OAAOkB,KAAA,aAAmBb,IAAKM,MAAAlB,EAAAH,gBAA0BG,EAAAiB,GAAA,QAAAjB,EAAAiB,GAAA,KAAAd,EAAA,mBAAmDI,OAAOkB,KAAA,aAAmBb,IAAKM,MAAAlB,EAAA9B,aAAuB8B,EAAAiB,GAAA,mBAEnyCU,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAtG,EACAsE,GATA,EAVA,SAAAiC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA,qDC1BAK,EAAAC,SAAkBC,QAAAN,EAAA,QAAAO,YAAA,yBCAlB,IAAAC,EAAAR,EAAA,QACAS,EAAAD,EAAAE,OAAAF,EAAAE,MAAuCC,UAAAD,KAAAC,YACvCP,EAAAC,QAAA,SAAAO,GACA,OAAAH,EAAAE,UAAAE,MAAAJ,EAAAK","file":"static/js/3.35932e7b39bc509c4e18.js","sourcesContent":["<template>\n  <div class=\"content-box\">\r\n    <div id=\"setting1\" style=\"display:none\">\r\n        <van-nav-bar :title=\"chapterName\" left-text=\"返回\" left-arrow  @click-left=\"onClickLeft\"\n  @click-right=\"onClickRight\">\n            <template #right>\n                <van-icon name=\"search\" size=\"18\" />\n            </template>\n        </van-nav-bar>\r\n    </div>\n    <div class=\"page-content\" id=\"content\" @click=\"showChapterList\" :style=\"styles.style1\">\n      <p>{{data}}</p>\r\n<!-- {{data}} -->\n    </div>\r\n<div id=\"ad\" style=\"display:none\">\r\n        <button  @click=\"downsize\">Aa-</button>\r\n        <button  @click=\"creasesize\">Aa+</button>\r\n</div>\r\n      <div id=\"setting2\" style=\"display:none\">\r\n\r\n        <van-tabbar v-model=\"active\">\n          <van-tabbar-item icon=\"home-o\" to=\"/Home/chapterList\">目录</van-tabbar-item>\n          <van-tabbar-item icon=\"search\">进度</van-tabbar-item>\n          <van-tabbar-item icon=\"friends-o\" @click=\"setFont_size\">设置</van-tabbar-item>\n          <van-tabbar-item icon=\"setting-o\" @click=\"goodnight\">夜间</van-tabbar-item>\n          </van-tabbar>\r\n      </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      data: '',\r\n      bookname: '',\r\n      active: 0,\r\n      chapterName: '',\r\n      fontSize: '',\r\n      font_color: '',\r\n      backgroud: '',\r\n      styles: {\r\n        style1: {color: '#000', 'font-size': '10px'}, // 黑色\r\n        style2: {color: '#000', 'font-size': '15px'}, // 黑色\r\n        style3: {color: '#000', 'font-size': '20px'}, // 黑色\r\n        style4: {color: '#000', 'font-size': '25px'}, // 黑色\r\n        style5: {color: '#000', 'font-size': '30px'}, // 黑色\r\n        style6: {color: '#000', 'font-size': '35px'}, // 黑色\r\n        style7: {color: '#000', 'font-size': '40px'}, // 黑色\r\n        style8: {color: '#8f9894', 'font-size': '33px'}, // 灰色\r\n        style9: {color: '#8f9894', 'font-size': '10px'}, // 灰色\r\n        style10: {color: '#8f9894', 'font-size': '15px'}, // 黑灰色色\r\n        style11: {color: '#8f9894', 'font-size': '20px'}, // 黑灰色色\r\n        style12: {color: '#8f9894', 'font-size': '25px'}, // 灰色\r\n        style13: {color: '#8f9894', 'font-size': '30px'}, // 灰色\r\n        style14: {color: '#8f9894', 'font-size': '35px'}, // 灰色\r\n        style15: {color: '#8f9894', 'font-size': '40px'} // 黑色\r\n      }\r\n\n    }\n  },\r\n  created() {\r\n    this.reading()\n  },\n  computed: {\n    newdata: function() {\n      return this.data + 1\n    }\n  },\n  methods: {\n    tohome() {\n      this.$router.goBack()\n    },\r\n    onClickLeft() {\n      this.$router.push('/Home')\n    },\n    onClickRight() {\n      // 无\n    },\r\n    downsize() {\r\n      document.getElementById('content').style.fontSize = '20px'\r\n    },\r\n    creasesize() {\r\n      document.getElementById('content').style.fontSize = '40px'\r\n    },\r\n    goodnight() {\r\n      this.font_color = '#888888'\r\n      this.backgroud = '#000'\r\n    },\n    add() {\n      this.data++\n    },\r\n    reading() {\r\n      // 获取记录上次/正在阅读的章节\r\n      let bookname = sessionStorage.getItem('reading')\r\n      let chapterName = localStorage.getItem(bookname + 'readingChapter')\r\n      this.chapterName = chapterName\r\n      console.log('得到的章节名：' + chapterName)\r\n      // 获取内容\r\n      this.getcontentDB(chapterName)\r\n    },\r\n    // 当前的小说章节名\r\n    read(db, chapterName) {\r\n      let that = this\r\n      var transaction = db.transaction(['chapter'])\r\n      var objectStore = transaction.objectStore('chapter')\r\n      // get参数是主键名\r\n      console.log('执行查询')\r\n      var request = objectStore.get(chapterName.toString())\r\n      request.onerror = function(event) {\r\n        console.log('事务失败')\r\n      }\r\n\r\n      request.onsuccess = function(event) {\r\n        if (request.result) {\r\n          console.log('成功获取章节内容')\r\n          let content = request.result\r\n\r\n          that.data = JSON.stringify(content).toString().replace(/(\\\\r\\\\n)|({\"chapterName\":\")|(\",\"content\":\")/g, '\\r\\n  \\r\\n')\r\n          // that.data.replace('{\"chapterName\":\"', '')\r\n          console.log(that.data)\r\n          // that.data = '我爱你\\s\\n小宝宝'\\r\\n\r\n          //\r\n        } else {\r\n          console.log('未获得数据记录')\r\n        }\r\n      }\r\n    },\r\n    // 当前的小说章节名\r\n    getcontentDB(chapterName) {\r\n      var db\r\n\r\n      let that = this\r\n      var request = indexedDB.open('MyindexedDB', 1)\r\n\r\n      request.onerror = function (event) {\r\n        console.log('error')\r\n      }\r\n      request.onsuccess = function (event) {\r\n        console.log('success')\r\n        db = request.result// 可以拿到数据库对象\r\n        that.read(db, chapterName)\r\n      }\n    },\r\n    showChapterList() {\r\n      if (document.getElementById('setting1').style.display === 'none') {\r\n        document.getElementById('setting1').style.display = ''\r\n        document.getElementById('setting2').style.display = ''\r\n        console.log('show')\r\n      } else {\r\n        document.getElementById('setting1').style.display = 'none'\r\n        document.getElementById('setting2').style.display = 'none'\r\n        document.getElementById('ad').style.display = 'none'\r\n        console.log('hide')\r\n      }\n    },\r\n    setFont_size() {\r\n      console.log('set fontsize')\r\n      if (document.getElementById('ad').style.display === 'none') {\r\n        document.getElementById('ad').style.display = ''\r\n      } else {\r\n        document.getElementById('ad').style.display = 'none'\r\n      }\r\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n@import \"~styles/index.less\";\n@import \"~styles/variable.less\";\r\n.page-content{\r\n    word-wrap: break-word;\r\n    word-break: break-all;\r\n    overflow-y: auto;\r\ntext-align: left;\r\nwhite-space: pre-wrap;//保留格式，使用换行符\r\n // width: 300px;\r\n// overflow: hidden; /*自动隐藏文字*/\n// text-overflow: ellipsis;/*文字隐藏后添加省略号*/\n// white-space: nowrap;/*强制不换行*/\n// width: 20em;/*不允许出现半汉字截断*/\r\nbackground-image: url(../assets/imgs/backgroud.png);\r\n// background-color: #c8c896;\r\n}\r\n#ad{\r\n\r\n}\r\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/reading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-box\"},[_c('div',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"setting1\"}},[_c('van-nav-bar',{attrs:{\"title\":_vm.chapterName,\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}},[[_c('van-icon',{attrs:{\"name\":\"search\",\"size\":\"18\"}})]],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"page-content\",style:(_vm.styles.style1),attrs:{\"id\":\"content\"},on:{\"click\":_vm.showChapterList}},[_c('p',[_vm._v(_vm._s(_vm.data))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"ad\"}},[_c('button',{on:{\"click\":_vm.downsize}},[_vm._v(\"Aa-\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.creasesize}},[_vm._v(\"Aa+\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"setting2\"}},[_c('van-tabbar',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{attrs:{\"icon\":\"home-o\",\"to\":\"/Home/chapterList\"}},[_vm._v(\"目录\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"search\"}},[_vm._v(\"进度\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"friends-o\"},on:{\"click\":_vm.setFont_size}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"setting-o\"},on:{\"click\":_vm.goodnight}},[_vm._v(\"夜间\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c477534\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/reading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c477534\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./reading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./reading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./reading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c477534\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./reading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2c477534\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/reading.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 2 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 2 3"],"sourceRoot":""}